{"openapi":"3.1.0","info":{"title":"Computer Vision Image Verification API","description":"FastAPI backend for the Computer Vision Image Verification sample.","termsOfService":"https://aws.amazon.com/asl/","version":"0.1.0"},"paths":{"/health/":{"get":{"tags":["CVImageVerification"],"summary":"Health Check","description":"Health check endpoint to verify the router is working.","operationId":"health_check_health__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/items/":{"get":{"tags":["CVImageVerification"],"summary":"Get Items","description":"Retrieves a list of all Items.\n\nReturns:\n    ItemListResponse: A response object containing a list of Items.","operationId":"get_items_items__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemListResponse"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Create Item","description":"Creates a new Item based on the provided request data.\n\nArgs:\n    item_request (CreateItemRequest): The request body containing the details for the new Item.\n\nReturns:\n    Item: The newly created Item object.","operationId":"create_item_items__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateItemRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Item"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/items/uploadurls":{"post":{"tags":["CVImageVerification"],"summary":"Generate Upload Urls","description":"Generates pre-signed S3 URLs for uploading files associated with Items.\n\nArgs:\n    request (GenerateUploadUrlsRequest): The request body containing filenames and content types.\n\nReturns:\n    GenerateUploadUrlsResponse: A response object containing the generated pre-signed URLs.","operationId":"generate_upload_urls_items_uploadurls_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateUploadUrlsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateUploadUrlsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/items/downloadurls":{"post":{"tags":["CVImageVerification"],"summary":"Generate Download Url","description":"Generates pre-signed S3 URLs for downloading files based on their S3 keys.\n\nEnsures keys are prefixed with 'temp-uploads/' for security.\n\nArgs:\n    s3_keys (List[str]): A list of S3 keys for the files to download.\n\nRaises:\n    HTTPException: If there's an error generating a URL (e.g., S3 client error).\n\nReturns:\n    List[str]: A list of pre-signed URLs corresponding to the provided S3 keys.","operationId":"generate_download_url_items_downloadurls_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"S3 Keys"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Generate Download Url Items Downloadurls Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/items/{item_id}":{"get":{"tags":["CVImageVerification"],"summary":"Get Item","description":"Retrieves a specific Item by its ID.\n\nArgs:\n    item_id (str): The unique identifier of the Item to retrieve.\n\nReturns:\n    Item: The Item object corresponding to the given ID.","operationId":"get_item_items__item_id__get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Item"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["CVImageVerification"],"summary":"Update Item","description":"Updates an existing Item identified by its ID with the provided data.\n\nArgs:\n    item_id (str): The unique identifier of the Item to update.\n    item_request (UpdateItemRequest): The request body containing the updated Item details.\n\nReturns:\n    Item: The updated Item object.","operationId":"update_item_items__item_id__put","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Item"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["CVImageVerification"],"summary":"Delete Item","description":"Deletes an Item identified by its ID.\n\nArgs:\n    item_id (str): The unique identifier of the Item to delete.\n\nReturns:\n    None: Returns None with a 204 No Content status code upon successful deletion.","operationId":"delete_item_items__item_id__delete","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/items/test/prompt":{"post":{"tags":["CVImageVerification"],"summary":"Item Description Filter Prompt Test","description":"Tests the Item description filtering prompt with the provided text and configuration.\n\nArgs:\n    request (TestDescriptionFilterPromptRequest): The request containing the text,\n                                                     prompt configuration, and LLM settings.\n\nReturns:\n    TestDescriptionFilterPromptResponse: The response indicating whether the description\n                                            passes the filter based on the prompt test.","operationId":"item_description_filter_prompt_test_items_test_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestDescriptionFilterPromptRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestDescriptionFilterPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/items/test/label":{"post":{"tags":["CVImageVerification"],"summary":"Item Label Filtering Rule Test","description":"Tests the Item label filtering rule with the provided text and configuration.\n\nArgs:\n    request (TestLabelFilteringRuleRequest): The request containing the text,\n                                                     prompt configuration, and LLM settings.\n\nReturns:\n    TestLabelFilteringRuleResponse: The response indicating whether the description\n                                            passes the filter based on the label test.","operationId":"item_label_filtering_rule_test_items_test_label_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestLabelFilteringRuleRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestLabelFilteringRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/":{"get":{"tags":["CVImageVerification"],"summary":"List Collections","description":"Retrieves a list of collections, optionally filtered by their assessment status.\n\nArgs:\n    filter_status (Optional[AssessmentStatus]): Filter collections by status (e.g., PENDING, COMPLETED).\n\nReturns:\n    CollectionsListResponse: A response object containing a list of collections matching the criteria.","operationId":"list_collections_collections__get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AssessmentStatus"},{"type":"null"}],"description":"Filter collections by status","title":"Status"},"description":"Filter collections by status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Create Collection","description":"Creates a new collection based on the provided request data.\n\nThis includes associating Item instances based on the provided `item_ids`.\n\nArgs:\n    collection_request (CreateCollectionRequest): The request body containing the details\n                                                 for the new collection.\n\nReturns:\n    CreateCollectionResponse: A response object containing the details of the newly created collection.","operationId":"create_collection_collections__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCollectionRequest","description":"The collection to create"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCollectionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/address-autocomplete":{"get":{"tags":["CVImageVerification"],"summary":"Address Autocomplete","description":"Provides address autocomplete suggestions based on a partial address query string.\n\nArgs:\n    query (str): The partial address text entered by the user for autocompletion.\n\nReturns:\n    AddressAutocompleteResponse: A response object containing a list of suggested addresses.","operationId":"address_autocomplete_collections_address_autocomplete_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Partial address text to search for","title":"Query"},"description":"Partial address text to search for"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddressAutocompleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/coordinates":{"post":{"tags":["CVImageVerification"],"summary":"Get Coordinates","description":"Retrieves the geographical coordinates (latitude and longitude) for a given address.\n\nAccepts the address details within the request body.\n\nArgs:\n    request (CoordinatesRequest): The request body containing the address information.\n\nReturns:\n    CoordinatesResponse: A response object containing the latitude and longitude.","operationId":"get_coordinates_collections_coordinates_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoordinatesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoordinatesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/{collection_id}/files/presigned-urls":{"get":{"tags":["CVImageVerification"],"summary":"Get Collection File Presigned Urls","description":"Generates and retrieves pre-signed GET URLs for all files associated with a specific collection.\n\nThese URLs allow temporary, secure access to download the files directly from storage.\n\nArgs:\n    collection_id (str): The unique identifier of the collection whose file URLs are needed.\n\nReturns:\n    CollectionFilePresignedUrlsResponse: A response object containing a list of pre-signed URLs.","operationId":"get_collection_file_presigned_urls_collections__collection_id__files_presigned_urls_get","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the collection to retrieve file URLs for","title":"Collection Id"},"description":"The ID of the collection to retrieve file URLs for"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionFilePresignedUrlsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/{collection_id}":{"get":{"tags":["CVImageVerification"],"summary":"Get Collection","description":"Retrieves the details of a specific collection identified by its ID.\n\nArgs:\n    collection_id (str): The unique identifier of the collection to retrieve.\n\nReturns:\n    CollectionResponse: A response object containing the details of the requested collection.","operationId":"get_collection_collections__collection_id__get","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the collection to retrieve","title":"Collection Id"},"description":"The ID of the collection to retrieve"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["CVImageVerification"],"summary":"Update Collection","description":"Updates an existing collection identified by its ID with the provided data.\n\nNote: This endpoint typically updates top-level collection fields. Updating associated\n      Item instances or files might require separate operations or specific handling within the implementation.\n\nArgs:\n    collection_id (str): The unique identifier of the collection to update.\n    collection_request (UpdateCollectionRequest): The request body containing the updated\n                                                 collection data.\n\nReturns:\n    UpdateCollectionResponse: A response object containing the updated details of the collection.","operationId":"update_collection_collections__collection_id__put","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the collection to update","title":"Collection Id"},"description":"The ID of the collection to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCollectionRequest","description":"The updated collection data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCollectionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["CVImageVerification"],"summary":"Delete Collection","description":"Deletes a specific collection identified by its ID.\n\nThis process typically involves checks for associated verification jobs and cleanup\nof related resources, such as files stored in S3.\n\nArgs:\n    collection_id (str): The unique identifier of the collection to delete.\n\nReturns:\n    None: Returns None with a 204 No Content status code upon successful deletion.","operationId":"delete_collection_collections__collection_id__delete","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the collection to delete","title":"Collection Id"},"description":"The ID of the collection to delete"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/{collection_id}/presign-upload":{"post":{"tags":["CVImageVerification"],"summary":"Presign Collection File Upload","description":"Generates a pre-signed URL that allows a client to directly upload a file to S3\nin the context of a specific collection.\n\nArgs:\n    collection_id (str): The ID of the collection the file will be associated with.\n    content_type (str): The MIME type of the file to be uploaded (e.g., 'image/jpeg').\n    filename (str): The intended name of the file once uploaded.\n\nReturns:\n    PresignUploadResponse: A response object containing the pre-signed URL and the\n                           corresponding S3 key where the file should be uploaded.","operationId":"presign_collection_file_upload_collections__collection_id__presign_upload_post","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the collection to upload a file for","title":"Collection Id"},"description":"The ID of the collection to upload a file for"},{"name":"content_type","in":"query","required":true,"schema":{"type":"string","description":"The MIME type of the file","title":"Content Type"},"description":"The MIME type of the file"},{"name":"filename","in":"query","required":true,"schema":{"type":"string","description":"The name of the file","title":"Filename"},"description":"The name of the file"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresignUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collections/{collection_id}/files":{"post":{"tags":["CVImageVerification"],"summary":"Add File To Collection","description":"Registers a file with a collection after the file has been successfully uploaded\n(typically using a pre-signed URL obtained from another endpoint).\n\nThis updates the collection record to include metadata about the uploaded file.\n\nArgs:\n    collection_id (str): The ID of the collection to associate the file with.\n    file_data (AddFileRequest): The request body containing details about the uploaded file\n                                (e.g., S3 key, filename, content type).\n\nReturns:\n    AddFileResponse: A response object confirming the file association, potentially\n                     including the updated file list or file details.","operationId":"add_file_to_collection_collections__collection_id__files_post","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the collection to add a file to","title":"Collection Id"},"description":"The ID of the collection to add a file to"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddFileRequest","description":"The file data to add to the collection"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddFileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verification-jobs/":{"get":{"tags":["CVImageVerification"],"summary":"List Verification Jobs","description":"Retrieves a list of verification jobs, optionally filtered by status or collection ID.\n\nIncludes the associated collection name in the response DTOs.\n\nArgs:\n    filter_status (Optional[AssessmentStatus]): Filter jobs by their assessment status.\n    collection_id (Optional[str]): Filter jobs associated with a specific collection ID.\n\nReturns:\n    List[VerificationJobDto]: A list of verification job data transfer objects matching the criteria.","operationId":"list_verification_jobs_verification_jobs__get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/AssessmentStatus"},{"type":"null"}],"description":"Filter verification jobs by status","title":"Status"},"description":"Filter verification jobs by status"},{"name":"collection_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter verification jobs by collection ID","title":"Collection Id"},"description":"Filter verification jobs by collection ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VerificationJobDto"},"title":"Response List Verification Jobs Verification Jobs  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Create Verification Job","description":"Creates a new verification job based on the provided request data.\n\nThis process involves deriving item instances from the specified collection\nand initiating the background processing workflow for the job.\n\nArgs:\n    job_request (CreateVerificationJobRequest): The request body containing the details\n                                                for the new verification job.\n\nReturns:\n    CreateVerificationJobResponse: The response containing the details of the\n                                   newly created verification job.","operationId":"create_verification_job_verification_jobs__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVerificationJobRequest","description":"The verification job to create"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVerificationJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verification-jobs/{verification_job_id}":{"get":{"tags":["CVImageVerification"],"summary":"Get Verification Job","description":"Retrieves details for a specific verification job identified by its ID.\n\nIncludes the associated collection name in the response.\n\nArgs:\n    verification_job_id (str): The unique identifier of the verification job to retrieve.\n\nReturns:\n    VerificationJobResponse: The details of the requested verification job.","operationId":"get_verification_job_verification_jobs__verification_job_id__get","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the verification job to retrieve","title":"Verification Job Id"},"description":"The ID of the verification job to retrieve"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["CVImageVerification"],"summary":"Update Verification Job","description":"Updates an existing verification job identified by its ID with the provided data.\n\nAllows modification of certain attributes of the verification job.\n\nArgs:\n    verification_job_id (str): The unique identifier of the verification job to update.\n    job_request (UpdateVerificationJobRequest): The request body containing the updated\n                                                verification job data.\n\nReturns:\n    UpdateVerificationJobResponse: The response containing the updated details of the\n                                   verification job.","operationId":"update_verification_job_verification_jobs__verification_job_id__put","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the verification job to update","title":"Verification Job Id"},"description":"The ID of the verification job to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVerificationJobRequest","description":"The updated verification job data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVerificationJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["CVImageVerification"],"summary":"Delete Verification Job","description":"Deletes a specific verification job identified by its ID.\n\nThis operation permanently removes the verification job and potentially associated data.\n\nArgs:\n    verification_job_id (str): The unique identifier of the verification job to delete.\n\nReturns:\n    None: Returns None with a 204 No Content status code upon successful deletion.","operationId":"delete_verification_job_verification_jobs__verification_job_id__delete","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the verification job to delete","title":"Verification Job Id"},"description":"The ID of the verification job to delete"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verification-jobs/{verification_job_id}/start":{"post":{"tags":["CVImageVerification"],"summary":"Start Verification Job Execution","description":"Initiates or restarts the execution of a specific verification job.\n\nThis endpoint requeues the job for processing. It typically involves clearing\nany previous file check results before starting the execution anew.\n\nArgs:\n    verification_job_id (str): The unique identifier of the verification job to start.\n\nReturns:\n    VerificationJobResponse: The updated details of the verification job after\n                             being queued for execution.","operationId":"start_verification_job_execution_verification_jobs__verification_job_id__start_post","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the verification job to start execution for","title":"Verification Job Id"},"description":"The ID of the verification job to start execution for"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verification-jobs/{verification_job_id}/files/presigned-urls":{"get":{"tags":["CVImageVerification"],"summary":"Get Verification Job Files Url","description":"Generates and returns pre-signed GET URLs for accessing files associated with a specific verification job.\n\nThese URLs provide temporary, secure access to download the files directly from storage (e.g., S3).\n\nArgs:\n    verification_job_id (str): The unique identifier of the verification job whose files are needed.\n\nReturns:\n    VerificationJobFilePresignedUrlsResponse: A response object containing a list of\n                                              pre-signed URLs for the job's files.","operationId":"get_verification_job_files_url_verification_jobs__verification_job_id__files_presigned_urls_get","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the verification job","title":"Verification Job Id"},"description":"The ID of the verification job"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationJobFilePresignedUrlsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verification-jobs/logs/{verification_job_id}":{"get":{"tags":["CVImageVerification"],"summary":"Get Verification Job Logs","description":"Retrieves log entries for a specific verification job, supporting pagination and filtering.\n\nAllows fetching logs based on job ID, with options to limit the number of results,\npaginate using a `last_evaluated_key`, filter by a search string within log messages,\nand filter by log level. This typically queries a secondary index for efficiency.\n\nArgs:\n    verification_job_id (str): The ID of the verification job to retrieve logs for.\n    limit (int): Maximum number of log entries to return per request.\n    last_evaluated_key (Optional[str]): A token for pagination, representing the last item\n                                         from the previous request.\n    search_string (Optional[str]): A string to filter log messages (case-sensitive).\n    log_level (Optional[str]): Filter logs by their severity level (e.g., INFO, ERROR).\n\nReturns:\n    VerificationJobLogListResponse: A response object containing the list of log entries\n                                    and potentially a `last_evaluated_key` for pagination.","operationId":"get_verification_job_logs_verification_jobs_logs__verification_job_id__get","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","description":"The ID of the verification job to retrieve logs for","title":"Verification Job Id"},"description":"The ID of the verification job to retrieve logs for"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of log entries to return","default":100,"title":"Limit"},"description":"Maximum number of log entries to return"},{"name":"last_evaluated_key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"JSON string representing the LastEvaluatedKey for pagination","title":"Last Evaluated Key"},"description":"JSON string representing the LastEvaluatedKey for pagination"},{"name":"search_string","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter log messages containing this string (case-sensitive)","title":"Search String"},"description":"Filter log messages containing this string (case-sensitive)"},{"name":"log_level","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter log entries by log level (e.g., INFO, WARNING, ERROR)","title":"Log Level"},"description":"Filter log entries by log level (e.g., INFO, WARNING, ERROR)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationJobLogListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llm-config/system-prompt":{"get":{"tags":["CVImageVerification"],"summary":"Get Current System Prompt","description":"Get the current active system prompt.","operationId":"get_current_system_prompt_llm_config_system_prompt_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Get Current System Prompt Llm Config System Prompt Get"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Update System Prompt","description":"Update the system prompt configuration.","operationId":"update_system_prompt_llm_config_system_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemPromptRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llm-config/model-id":{"get":{"tags":["CVImageVerification"],"summary":"Get Current Model Id","description":"Get the current active model ID.","operationId":"get_current_model_id_llm_config_model_id_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Get Current Model Id Llm Config Model Id Get"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Update Model Id","description":"Update the model ID configuration.","operationId":"update_model_id_llm_config_model_id_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelIdRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llm-config/second-pass":{"get":{"tags":["CVImageVerification"],"summary":"Get Job Second Pass","description":"Returns a boolean indicating whether a second pass verification should be performed on images. A second verification pass executed on images helps reduce false positives in image verification, but makes verification jobs cost more and take longer to complete.","operationId":"get_job_second_pass_llm_config_second_pass_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Get Job Second Pass Llm Config Second Pass Get"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Update Job Second Pass","description":"Update the second pass configuration.","operationId":"update_job_second_pass_llm_config_second_pass_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerificationJobSecondPassRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llm-config/history/system-prompt":{"get":{"tags":["CVImageVerification"],"summary":"Get System Prompt History","description":"Get the history of system prompt configurations.","operationId":"get_system_prompt_history_llm_config_history_system_prompt_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConfigResponse"},"title":"Response Get System Prompt History Llm Config History System Prompt Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/llm-config/history/model-id":{"get":{"tags":["CVImageVerification"],"summary":"Get Model Id History","description":"Get the history of model ID configurations.","operationId":"get_model_id_history_llm_config_history_model_id_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConfigResponse"},"title":"Response Get Model Id History Llm Config History Model Id Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/agents/":{"get":{"tags":["CVImageVerification"],"summary":"Get Agents","description":"Retrieves a list of all Agents.\n\nReturns:\n    AgentListResponse: A response object containing a list of Agents.","operationId":"get_agents_agents__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentListResponse"}}}}}},"post":{"tags":["CVImageVerification"],"summary":"Create Agent","description":"Creates a new Agent based on the provided request data.\n\nArgs:\n    agent_request (CreateAgentRequest): The request body containing the details for the new Agent.\n\nReturns:\n    Agent: The newly created Agent object.","operationId":"create_agent_agents__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAgentRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/agents/job/{verification_job_id}":{"get":{"tags":["CVImageVerification"],"summary":"Get Agents Used In Job","description":"Retrieves a list of all agents used in a specific verification job.\n\nArgs:\n    verification_job_id (str): The unique identifier of the verification job.\n\nReturns:\n    AgentListResponse: A response object containing a list of agents used in the job.","operationId":"get_agents_used_in_job_agents_job__verification_job_id__get","parameters":[{"name":"verification_job_id","in":"path","required":true,"schema":{"type":"string","title":"Verification Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/agents/{agent_id}":{"get":{"tags":["CVImageVerification"],"summary":"Get Agent","description":"Retrieves a specific Agent by its ID.\n\nArgs:\n    agent_id (str): The unique identifier of the Agent to retrieve.\n\nReturns:\n    Agent: The Agent object corresponding to the given ID.","operationId":"get_agent_agents__agent_id__get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["CVImageVerification"],"summary":"Update Agent","description":"Updates an existing Agent identified by its ID with the provided data.\n\nArgs:\n    agent_id (str): The unique identifier of the Agent to update.\n    agent_request (UpdateAgentRequest): The request body containing the updated Agent details.\n\nReturns:\n    Agent: The updated Agent object.","operationId":"update_agent_agents__agent_id__put","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAgentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["CVImageVerification"],"summary":"Delete Agent","description":"Deletes an Agent identified by its ID.\n\nArgs:\n    agent_id (str): The unique identifier of the Agent to delete.\n\nReturns:\n    None: Returns None with a 204 No Content status code upon successful deletion.","operationId":"delete_agent_agents__agent_id__delete","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["CVImageVerification"],"summary":"Health Check","description":"Health check endpoint to verify the API is running.","operationId":"health_check__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AddFileRequest":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"s3_key":{"type":"string","title":"S3 Key"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content_type":{"type":"string","title":"Content Type"},"filename":{"type":"string","title":"Filename"},"status":{"anyOf":[{"$ref":"#/components/schemas/AssessmentStatus"},{"type":"null"}]},"status_reasoning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Reasoning"}},"type":"object","required":["id","created_at","s3_key","content_type","filename"],"title":"AddFileRequest","description":"Request model for adding a file to a collection."},"AddFileResponse":{"properties":{"collection":{"$ref":"#/components/schemas/Collection"}},"type":"object","required":["collection"],"title":"AddFileResponse","description":"Response model for adding a file to a collection.\n\nReturns the updated collection containing the newly added file\nalong with any generated metadata."},"AddressAutocompleteResponse":{"properties":{"suggestions":{"items":{"$ref":"#/components/schemas/AddressSuggestion"},"type":"array","title":"Suggestions"}},"type":"object","required":["suggestions"],"title":"AddressAutocompleteResponse","description":"Response model for address autocomplete suggestions."},"AddressSuggestion":{"properties":{"text":{"type":"string","title":"Text","description":"The full suggested address text"},"place_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Place Id","description":"Optional unique identifier for the place from the location service"}},"type":"object","required":["text"],"title":"AddressSuggestion","description":"Represents a single address suggestion."},"Agent":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the agent"},"created_at":{"type":"integer","title":"Created At","description":"Timestamp when the agent was created"},"updated_at":{"type":"integer","title":"Updated At","description":"Timestamp when the agent was last updated"},"name":{"type":"string","title":"Name","description":"Name of the agent"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description of the agent"},"prompt":{"type":"string","title":"Prompt","description":"Prompt for the agent"},"type":{"$ref":"#/components/schemas/AgentTypes","description":"Type of the agent"},"api_endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Endpoint","description":"Endpoint URL of the REST API to be used by the agent. Only applicable for REST API agents."},"knowledge_base_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Knowledge Base Id","description":"ID of the knowledge base to be used by the agent. Only applicable for knowledge base agents."},"athena_database":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Athena Database","description":"Name of the Amazon Athena database to be used by the agent. Only applicable for Amazon Athena agents."},"athena_query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Athena Query","description":"SQL query to be executed against the Amazon Athena database. Only applicable for Amazon Athena agents."}},"type":"object","required":["id","created_at","updated_at","name","prompt","type","api_endpoint","knowledge_base_id","athena_database","athena_query"],"title":"Agent","description":"Agent class for representing an agent that assists with item description modification.\nThis model defines the structure for agents that can be of different types such as \nREST API agents or knowledge base agents. Each agent has a unique identifier, \nmetadata about creation and updates, descriptive information, and type-specific\nconfiguration parameters.\nAttributes:\n    id (str): Unique identifier for the agent.\n    created_at (int): Unix timestamp indicating when the agent was created.\n    updated_at (int): Unix timestamp indicating when the agent was last updated.\n    name (str): Name of the agent.\n    description (Optional[str]): Optional description of the agent.\n    prompt (str): Prompt template or instructions for the agent.\n    type (AgentTypes): Type of the agent (e.g., REST API, knowledge base).\n    api_endpoint (Optional[str]): Endpoint URL for REST API agents.\n    knowledge_base_id (Optional[str]): ID of the knowledge base for KB agents."},"AgentListResponse":{"properties":{"agents":{"items":{"$ref":"#/components/schemas/Agent"},"type":"array","title":"Agents","description":"List of agents"}},"type":"object","required":["agents"],"title":"AgentListResponse","description":"Response model for listing agents."},"AgentTypes":{"type":"string","enum":["Knowledge Base","REST API","Amazon Athena","Unknown"],"title":"AgentTypes","description":"Enumeration of different agent types.\n\nThis enum defines the various types of agents that can be created,\nsuch as Knowledge Base Agents and REST API Agents."},"AssessmentStatus":{"type":"string","enum":["Pending","Assessing","Approved","Rejected","Needs Review","Error"],"title":"AssessmentStatus","description":"Enumeration of possible assessment statuses for items, collections, and verification jobs.\n\nRepresents the current state of evaluation for various entities in the system,\ntracking progress from initial submission through final approval or rejection."},"CallUsingAllFilesResponse":{"properties":{"response":{"$ref":"#/components/schemas/TotalCheckResponse"},"token_usage":{"$ref":"#/components/schemas/TokenUsage"}},"type":"object","required":["response","token_usage"],"title":"CallUsingAllFilesResponse","description":"Response model for the call_using_all_files function"},"Collection":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"updated_at":{"type":"integer","title":"Updated At"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"files":{"items":{"$ref":"#/components/schemas/CollectionFile"},"type":"array","title":"Files","default":[]},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"items":{"items":{"$ref":"#/components/schemas/Item"},"type":"array","title":"Items","default":[]}},"type":"object","required":["id","created_at","updated_at"],"title":"Collection","description":"Represents a collection of files to be verified against items.\n\nCollections serve as the primary container for files that need assessment,\nincluding optional address information and associated items for verification."},"CollectionFile":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"s3_key":{"type":"string","title":"S3 Key"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content_type":{"type":"string","title":"Content Type"},"filename":{"type":"string","title":"Filename"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"}},"type":"object","required":["id","created_at","s3_key","content_type","filename"],"title":"CollectionFile","description":"Represents a file within a collection that needs to be assessed.\n\nContains metadata about uploaded files including S3 storage information,\ncontent type, and optional descriptive information."},"CollectionFileInstance":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"s3_key":{"type":"string","title":"S3 Key"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"content_type":{"type":"string","title":"Content Type"},"filename":{"type":"string","title":"Filename"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"},"file_checks":{"items":{"$ref":"#/components/schemas/CollectionFileItemInstance"},"type":"array","title":"File Checks","default":[]}},"type":"object","required":["id","created_at","s3_key","content_type","filename"],"title":"CollectionFileInstance","description":"Extended file model that includes assessment results against multiple item instances.\n\nInherits from CollectionFile and adds tracking of how the file performs\nagainst various item criteria through file_checks."},"CollectionFileItemInstance":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/CollectionFileStatus"},{"type":"null"}]},"status_reasoning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Reasoning"},"item_instance_id":{"type":"string","title":"Item Instance Id"},"address_match":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Address Match"},"detected_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detected Address"},"cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost"},"input_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Input Tokens"},"output_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Output Tokens"},"cluster_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cluster Number","description":"Optional cluster identifier this rule belongs to. For a cluster to be marked as compliant, all rules in it must be satisfied. At least one cluster must be satisfied for the item to be compliant. If no rules are in a cluster, all must be satisfied."}},"type":"object","required":["item_instance_id"],"title":"CollectionFileItemInstance","description":"Represents the assessment result of a collection file against a specific item instance.\n\nThis model tracks how a particular file performs against item criteria, including\nstatus, reasoning, address matching, and associated costs from AI processing."},"CollectionFilePresignedUrlsResponse":{"properties":{"presigned_urls":{"additionalProperties":{"type":"string"},"type":"object","title":"Presigned Urls","description":"Dictionary mapping file IDs to their presigned GET URLs"}},"type":"object","required":["presigned_urls"],"title":"CollectionFilePresignedUrlsResponse","description":"Response model containing presigned URLs for collection files."},"CollectionFileStatus":{"type":"string","enum":["Pending","Assessing","Relevant","Ignored","Needs Review","Error"],"title":"CollectionFileStatus","description":"Enumeration of possible statuses for individual files within a collection.\n\nTracks the evaluation state of each file as it's processed against item criteria,\nindicating whether the file is relevant, should be ignored, or requires manual review."},"CollectionResponse":{"properties":{"collection":{"$ref":"#/components/schemas/Collection"}},"type":"object","required":["collection"],"title":"CollectionResponse","description":"Response model for retrieving a single collection.\n\nReturns detailed information about a specific collection including\nall associated files, items, and metadata."},"CollectionsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Collection"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"CollectionsListResponse","description":"Response model for listing collections.\n\nReturns a paginated list of Collection objects available to the user,\nincluding their metadata and associated files."},"ConfigResponse":{"properties":{"config_type":{"type":"string","title":"Config Type"},"timestamp":{"type":"integer","title":"Timestamp"},"value":{"type":"string","title":"Value"},"created_at":{"type":"string","title":"Created At"},"is_active":{"type":"string","title":"Is Active"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["config_type","timestamp","value","created_at","is_active"],"title":"ConfigResponse"},"CoordinatesRequest":{"properties":{"address":{"type":"string","title":"Address"}},"type":"object","required":["address"],"title":"CoordinatesRequest"},"CoordinatesResponse":{"properties":{"latitude":{"type":"number","title":"Latitude"},"longitude":{"type":"number","title":"Longitude"}},"type":"object","required":["latitude","longitude"],"title":"CoordinatesResponse"},"CreateAgentRequest":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the agent"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description of the agent"},"prompt":{"type":"string","title":"Prompt","description":"Prompt for the agent"},"type":{"type":"string","title":"Type","description":"Type of the agent (Knowledge Base or REST API)"},"knowledge_base_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Knowledge Base Id","description":"ID of the knowledge base to be used by the agent (required for Knowledge Base agents)"},"api_endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Endpoint","description":"Endpoint URL of the REST API to be used by the agent (required for REST API agents)"},"athena_database":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Athena Database","description":"Name of the Amazon Athena database to be used by the agent. Only applicable for Amazon Athena agents."},"athena_query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Athena Query","description":"SQL query to be executed against the Amazon Athena database. Only applicable for Amazon Athena agents."}},"type":"object","required":["name","prompt","type","athena_database","athena_query"],"title":"CreateAgentRequest","description":"Request model for creating an agent."},"CreateCollectionRequest":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"files":{"items":{"$ref":"#/components/schemas/CollectionFile"},"type":"array","title":"Files","default":[]},"status":{"$ref":"#/components/schemas/AssessmentStatus","default":"Pending"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"item_ids":{"items":{"type":"string"},"type":"array","title":"Item Ids","default":[]}},"type":"object","title":"CreateCollectionRequest","description":"Request model for creating a new collection.\n\nContains the initial configuration for a collection including optional\ndescription, files, assessment status, address, and associated item IDs."},"CreateCollectionResponse":{"properties":{"collection":{"$ref":"#/components/schemas/Collection"}},"type":"object","required":["collection"],"title":"CreateCollectionResponse","description":"Response model for collection creation.\n\nReturns the newly created collection with its assigned ID and\nany system-generated metadata."},"CreateItemRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"label_filtering_rules":{"items":{"$ref":"#/components/schemas/LabelFilteringRule"},"type":"array","title":"Label Filtering Rules","default":[]},"description_filtering_rules":{"anyOf":[{"items":{"$ref":"#/components/schemas/DescriptionFilteringRule"},"type":"array"},{"type":"null"}],"title":"Description Filtering Rules"},"cluster_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cluster Number"},"agent_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Agent Ids","description":"Optional list of agent IDs associated with the item"}},"type":"object","required":["name","description"],"title":"CreateItemRequest","description":"Request model for creating a new item."},"CreateVerificationJobRequest":{"properties":{"collection_id":{"type":"string","title":"Collection Id"},"status":{"$ref":"#/components/schemas/AssessmentStatus","default":"Pending"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"search_internet":{"type":"boolean","title":"Search Internet","description":"Whether to search the internet for additional information during verification","default":false}},"type":"object","required":["collection_id"],"title":"CreateVerificationJobRequest","description":"Request model for creating a verification job."},"CreateVerificationJobResponse":{"properties":{"verification_job":{"$ref":"#/components/schemas/VerificationJob"}},"type":"object","required":["verification_job"],"title":"CreateVerificationJobResponse","description":"Response model for creating a verification job."},"DescriptionFilteringRule":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"updated_at":{"type":"integer","title":"Updated At"},"description":{"type":"string","title":"Description"},"min_confidence":{"type":"number","title":"Min Confidence"},"mandatory":{"type":"boolean","title":"Mandatory","default":false}},"type":"object","required":["id","created_at","updated_at","description","min_confidence"],"title":"DescriptionFilteringRule","description":"Represents a rule for filtering items based on text description criteria.\n\nThis model defines rules that evaluate text descriptions against specific criteria\nusing confidence thresholds to determine relevance."},"GenerateUploadUrlsRequest":{"properties":{"filenames":{"items":{"type":"string"},"type":"array","title":"Filenames","description":"List of filenames for which to generate presigned URLs"}},"type":"object","required":["filenames"],"title":"GenerateUploadUrlsRequest","description":"Request model for generating multiple presigned upload URLs.\n\nTakes a list of filenames and generates corresponding presigned URLs\nfor batch file upload operations to S3 storage."},"GenerateUploadUrlsResponse":{"properties":{"urls":{"items":{"$ref":"#/components/schemas/PresignedFileUrl"},"type":"array","title":"Urls","description":"List of presigned URLs for file uploads"}},"type":"object","required":["urls"],"title":"GenerateUploadUrlsResponse","description":"Response model containing multiple presigned upload URLs.\n\nReturns a list of presigned URLs with their corresponding filenames\nand S3 keys for batch file upload operations."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"service":{"type":"string","title":"Service"}},"type":"object","required":["status","message","service"],"title":"HealthResponse","description":"Response model for the health check endpoint."},"Item":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"updated_at":{"type":"integer","title":"Updated At"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"label_filtering_rules":{"items":{"$ref":"#/components/schemas/LabelFilteringRule"},"type":"array","title":"Label Filtering Rules","default":[]},"description_filtering_rules":{"items":{"$ref":"#/components/schemas/DescriptionFilteringRule"},"type":"array","title":"Description Filtering Rules","default":[]},"cluster_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cluster Number"},"agent_ids":{"items":{"type":"string"},"type":"array","title":"Agent Ids","description":"List of agent IDs that should be used for this item. Agents will process the item against the collection files and return results based on their specific logic."}},"type":"object","required":["id","created_at","updated_at","name","description"],"title":"Item","description":"Represents a core item entity that can be verified against collections.\n\nItems define the criteria and rules used to assess whether files in a collection\nmeet specific requirements. They contain both label-based and description-based\nfiltering rules for comprehensive evaluation."},"ItemInstance":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"updated_at":{"type":"integer","title":"Updated At"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"label_filtering_rules_applied":{"items":{"$ref":"#/components/schemas/LabelFilteringRule"},"type":"array","title":"Label Filtering Rules Applied"},"description_filtering_rules_applied":{"items":{"$ref":"#/components/schemas/DescriptionFilteringRule"},"type":"array","title":"Description Filtering Rules Applied"},"assessment_reasoning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assessment Reasoning"},"status":{"$ref":"#/components/schemas/AssessmentStatus","default":"Pending"},"approved_files":{"items":{"$ref":"#/components/schemas/CollectionFileInstance"},"type":"array","title":"Approved Files","default":[]},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"item_id":{"type":"string","title":"Item Id"},"results_log":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Results Log"},"cluster_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cluster Number"},"agent_ids":{"items":{"type":"string"},"type":"array","title":"Agent Ids","description":"List of agent IDs that should be used for this item. Agents will process the item against the collection files and return results based on their specific logic."}},"type":"object","required":["id","created_at","updated_at","name","description","label_filtering_rules_applied","description_filtering_rules_applied","item_id"],"title":"ItemInstance","description":"Represents an instance of an item being verified against a specific collection.\n\nThis model tracks the application of filtering rules to files and maintains\nthe assessment results, confidence scores, and approval status for the verification process."},"ItemListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Item"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"ItemListResponse","description":"Response model for listing items.\n\nReturns a paginated list of Item objects that match the query criteria."},"LabelFilteringRule":{"properties":{"id":{"type":"string","title":"Id","description":"Unique identifier for the label filtering rule"},"created_at":{"type":"integer","title":"Created At","description":"Timestamp when the rule was created"},"updated_at":{"type":"integer","title":"Updated At"},"image_labels":{"items":{"type":"string"},"type":"array","title":"Image Labels","default":[]},"min_confidence":{"type":"number","title":"Min Confidence"},"min_image_size_percent":{"type":"number","title":"Min Image Size Percent","description":"Minimum size percentage of the image that must be occupied by the detected object","default":0.0}},"type":"object","required":["id","created_at","updated_at","min_confidence"],"title":"LabelFilteringRule","description":"Represents a rule for filtering items based on image label detection criteria.\n\nThis model defines rules that evaluate images based on detected labels,\nconfidence scores, and minimum size requirements for the detected objects."},"ModelIdRequest":{"properties":{"model_id":{"type":"string","title":"Model Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["model_id"],"title":"ModelIdRequest"},"PresignUploadResponse":{"properties":{"presigned_url":{"type":"string","title":"Presigned Url"},"file_metadata":{"additionalProperties":true,"type":"object","title":"File Metadata"}},"type":"object","required":["presigned_url","file_metadata"],"title":"PresignUploadResponse","description":"Response model for generating a presigned URL for file upload."},"PresignedFileUrl":{"properties":{"filename":{"type":"string","title":"Filename","description":"Name of the file"},"s3_key":{"type":"string","title":"S3 Key","description":"S3 key for the file"},"presigned_url":{"type":"string","title":"Presigned Url","description":"Presigned URL for file upload"}},"type":"object","required":["filename","s3_key","presigned_url"],"title":"PresignedFileUrl","description":"Model representing a single presigned URL for file upload.\n\nContains the mapping between a filename, its S3 storage key,\nand the temporary presigned URL for direct upload access."},"SystemPromptRequest":{"properties":{"prompt":{"type":"string","title":"Prompt"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["prompt"],"title":"SystemPromptRequest"},"TestDescriptionFilterPromptRequest":{"properties":{"description":{"type":"string","title":"Description","description":"Description to test against the item"},"image_s3_keys":{"items":{"type":"string"},"type":"array","title":"Image S3 Keys","description":"S3 keys for the images to test against"},"agent_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Agent Ids","description":"Optional list of agent IDs to use for the test"},"search_internet":{"type":"boolean","title":"Search Internet","description":"Whether to search the internet for additional information during the test","default":false}},"type":"object","required":["description","image_s3_keys"],"title":"TestDescriptionFilterPromptRequest","description":"Request model for testing description filtering prompt."},"TestDescriptionFilterPromptResponse":{"properties":{"response":{"$ref":"#/components/schemas/CallUsingAllFilesResponse","description":"Response from the description filtering prompt test"}},"type":"object","required":["response"],"title":"TestDescriptionFilterPromptResponse","description":"Response model for testing description filtering prompt."},"TestLabelFilteringRuleLabel":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the detected label"},"confidence":{"type":"number","title":"Confidence","description":"Confidence score of the label detection"},"s3_key":{"type":"string","title":"S3 Key","description":"S3 key of the image where the label was detected"}},"type":"object","required":["name","confidence","s3_key"],"title":"TestLabelFilteringRuleLabel","description":"Model for label detection results."},"TestLabelFilteringRuleRequest":{"properties":{"image_s3_keys":{"items":{"type":"string"},"type":"array","title":"Image S3 Keys","description":"S3 keys for the images to test against"}},"type":"object","required":["image_s3_keys"],"title":"TestLabelFilteringRuleRequest","description":"Request model for testing a label filtering rule."},"TestLabelFilteringRuleResponse":{"properties":{"labels":{"items":{"$ref":"#/components/schemas/TestLabelFilteringRuleLabel"},"type":"array","title":"Labels","description":"Labels that were detected in the images"}},"type":"object","required":["labels"],"title":"TestLabelFilteringRuleResponse","description":"Response model for testing label filtering prompt."},"TokenUsage":{"properties":{"input_tokens":{"type":"integer","title":"Input Tokens"},"output_tokens":{"type":"integer","title":"Output Tokens"}},"type":"object","required":["input_tokens","output_tokens"],"title":"TokenUsage"},"TotalCheckItemResult":{"properties":{"item_id":{"type":"string","title":"Item Id","description":"The ID of the item being matched"},"file_ids":{"items":{"type":"string"},"type":"array","title":"File Ids","description":"The IDs of the files that match the item. the IDs will be located in the proceeding message before the file. Be extremely honest and critical of the chosen results"},"image_found":{"type":"boolean","title":"Image Found","description":"Whether at least one image was found that matches the description. Be extremely honest and critical of this result."},"reasoning":{"type":"string","title":"Reasoning","description":"A complete image description, in the most verbose manner possible, matched against criteria of the item.  Be extremely honest and critical of this result."},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence","description":"A score specifying how confident you are of the match, between 0.0 and 1.0. 0 is not confident at all. 0.5 is mildly confident. Anything greater than 0.8 is absolutely confident."},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location","description":"Location found in the first image, if any. Do not add any other text, just the detected location."}},"type":"object","required":["item_id","file_ids","image_found","reasoning"],"title":"TotalCheckItemResult"},"TotalCheckResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/TotalCheckItemResult"},"type":"array","title":"Items","description":"A list of the items that are being analyzed for and their matching (or not matching) filenames "}},"type":"object","required":["items"],"title":"TotalCheckResponse"},"UpdateAgentRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Name of the agent"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description of the agent"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Prompt for the agent"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"Type of the agent (Knowledge Base or REST API)"},"knowledge_base_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Knowledge Base Id","description":"ID of the knowledge base to be used by the agent"},"api_endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Endpoint","description":"Endpoint URL of the REST API to be used by the agent"},"athena_database":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Athena Database","description":"Name of the Amazon Athena database to be used by the agent. Only applicable for Amazon Athena agents."},"athena_query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Athena Query","description":"SQL query to be executed against the Amazon Athena database. Only applicable for Amazon Athena agents."}},"type":"object","required":["athena_database","athena_query"],"title":"UpdateAgentRequest","description":"Request model for updating an agent."},"UpdateCollectionRequest":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"files":{"anyOf":[{"items":{"$ref":"#/components/schemas/CollectionFile"},"type":"array"},{"type":"null"}],"title":"Files"},"status":{"anyOf":[{"$ref":"#/components/schemas/AssessmentStatus"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"}},"type":"object","title":"UpdateCollectionRequest","description":"Request model for updating an existing collection.\n\nAll fields are optional, allowing partial updates to collection properties\nincluding description, files, status, and address information."},"UpdateCollectionResponse":{"properties":{"collection":{"$ref":"#/components/schemas/Collection"}},"type":"object","required":["collection"],"title":"UpdateCollectionResponse","description":"Response model for collection updates.\n\nReturns the updated collection with all current values after\nthe modification has been applied."},"UpdateItemRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"label_filtering_rules":{"anyOf":[{"items":{"$ref":"#/components/schemas/LabelFilteringRule"},"type":"array"},{"type":"null"}],"title":"Label Filtering Rules"},"description_filtering_rules":{"anyOf":[{"items":{"$ref":"#/components/schemas/DescriptionFilteringRule"},"type":"array"},{"type":"null"}],"title":"Description Filtering Rules"},"cluster_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Cluster Number"},"agent_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Agent Ids","description":"Optional list of agent IDs associated with the item","default":[]}},"type":"object","title":"UpdateItemRequest","description":"Request model for updating an existing item."},"UpdateVerificationJobRequest":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/AssessmentStatus"},{"type":"null"}]},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"search_internet":{"type":"boolean","title":"Search Internet","description":"Whether to search the internet for additional information during verification","default":false}},"type":"object","title":"UpdateVerificationJobRequest","description":"Request model for updating a verification job."},"UpdateVerificationJobResponse":{"properties":{"verification_job":{"$ref":"#/components/schemas/VerificationJob"}},"type":"object","required":["verification_job"],"title":"UpdateVerificationJobResponse","description":"Response model for updating a verification job."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerificationJob":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"updated_at":{"type":"integer","title":"Updated At"},"collection_id":{"type":"string","title":"Collection Id"},"status":{"$ref":"#/components/schemas/AssessmentStatus","default":"Pending"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"aggregated_results":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Aggregated Results"},"items":{"items":{"$ref":"#/components/schemas/ItemInstance"},"type":"array","title":"Items","default":[]},"files":{"items":{"$ref":"#/components/schemas/CollectionFileInstance"},"type":"array","title":"Files","default":[]},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost"},"search_internet":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Search Internet","description":"Flag indicating whether to search the internet for additional information during verification. Defaults to False.","default":false}},"type":"object","required":["id","created_at","updated_at","collection_id"],"title":"VerificationJob","description":"Represents a verification job that processes a collection against multiple items.\n\nThis model orchestrates the verification process, tracking overall status,\naggregated results, and associated costs while processing items and files."},"VerificationJobDto":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"integer","title":"Created At"},"updated_at":{"type":"integer","title":"Updated At"},"collection_id":{"type":"string","title":"Collection Id"},"status":{"$ref":"#/components/schemas/AssessmentStatus","default":"Pending"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"aggregated_results":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Aggregated Results"},"items":{"items":{"$ref":"#/components/schemas/ItemInstance"},"type":"array","title":"Items","default":[]},"files":{"items":{"$ref":"#/components/schemas/CollectionFileInstance"},"type":"array","title":"Files","default":[]},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost"},"search_internet":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Search Internet","description":"Flag indicating whether to search the internet for additional information during verification. Defaults to False.","default":false},"collection_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collection Name"},"total_cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Cost"}},"type":"object","required":["id","created_at","updated_at","collection_id"],"title":"VerificationJobDto","description":"Data Transfer Object for verification jobs with additional display information.\n\nExtends VerificationJob with additional fields for UI presentation,\nincluding collection name and total cost calculations."},"VerificationJobFilePresignedUrlsResponse":{"properties":{"presigned_urls":{"additionalProperties":{"type":"string"},"type":"object","title":"Presigned Urls","description":"Dictionary mapping file IDs to their presigned GET URLs"}},"type":"object","required":["presigned_urls"],"title":"VerificationJobFilePresignedUrlsResponse","description":"Response model containing presigned URLs for verification job files."},"VerificationJobLogEntry":{"properties":{"id":{"type":"string","title":"Id"},"timestamp":{"type":"integer","title":"Timestamp"},"verification_job_id":{"type":"string","title":"Verification Job Id"},"level":{"type":"string","title":"Level"},"message":{"type":"string","title":"Message"}},"type":"object","required":["id","timestamp","verification_job_id","level","message"],"title":"VerificationJobLogEntry","description":"Represents a log entry for verification job execution tracking.\n\nStores timestamped log messages with severity levels to track\nthe progress and issues during verification job processing."},"VerificationJobLogListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/VerificationJobLogEntry"},"type":"array","title":"Items"},"last_evaluated_key":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Last Evaluated Key","description":"The key to use for fetching the next page of results, if any."}},"type":"object","required":["items"],"title":"VerificationJobLogListResponse","description":"Response model for listing verification job log entries with pagination."},"VerificationJobResponse":{"properties":{"verification_job":{"$ref":"#/components/schemas/VerificationJobDto"}},"type":"object","required":["verification_job"],"title":"VerificationJobResponse","description":"Response model for retrieving a single verification job."},"VerificationJobSecondPassRequest":{"properties":{"second_pass":{"type":"boolean","title":"Second Pass"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["second_pass"],"title":"VerificationJobSecondPassRequest"}}}}